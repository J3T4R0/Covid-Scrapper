Do you need a fsm. Of course you do. Pass your state here and execute functions based on that state silly !11!!!